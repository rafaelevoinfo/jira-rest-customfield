jQuery.noConflict();console.log("HELLO FROM JS");jQuery(function(){var b=true;function d(f){b&&AJS.log("Rest Plugin ::",f)}function c(f){if(typeof JIRA.Issues==="undefined"){return}var g=this;JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(i,h){g._disableInlineEditForCustomField(f)});this._disableInlineEditForCustomField(f)}function a(h){var g=AJS.$(JIRA.Issues.IssueFieldUtil.getFieldSelector(h));var f=function(i){if(AJS.$(this).is(".editable-field")||(AJS.$(this).is(".editable-field > *"))){d("Disabling inline edit for :: "+h);g.removeClass("editable-field");g.removeClass("inactive");g.attr("title",AJS.I18n.getText("at.celix.jira.plugins.zones.fieldDisabled"));g.find(".icon").remove();g.unbind("mouseenter").unbind("mouseleave").unbind("mousemove").unbind("mouseover")}};if(g.is(":hover")){g.delegate("*,","mouseover",f);g.hover(f);g.mousemove(f)}else{g.hover(f)}}function e(){jQuery(".rest-ui-autocomplete-input").each(function(l,h){var k=jQuery(this);var n=k.data("customfieldid");var f=k.data("projectkey");var m=k.data("ajaxpurposename");var i=k.data("hiddeninputfieldid");var j="{";$.each(k.data(),function(p,o){j+='"'+p+'":"'+o+'",'});j=j.substring(0,j.length-1);j+="}";var g=$.parseJSON(j);if(b){console.debug(g)}jQuery(this).autoCompleteCD({minChars:2,source:function(o,q,p){jQuery.ajax({url:AJS.contextPath()+"/secure/ajaxResultsPageAction!default.jspa",dataType:"json",data:{decorator:"none",q:o,customfieldId:n,projectKey:f,purpose:m},success:function(s){d("Data returned ::"+JSON.stringify(s));var r=$.map(s,function(t){return{plainText:t.inputlabel,formattedText:t.label,pKey:t.value}});d("Suggestions :: ");p(r)},error:function(r,t,s){console.log("ERROR");AJS.log(JSON.stringify(r));AJS.log(t);AJS.log(s)}})},renderChoiceElement:function(r,o){d("renderChoiceElement: choiceObject "+JSON.stringify(r)+", search "+JSON.stringify(o));o=o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var q=new RegExp("("+o.split(" ").join("|")+")","gi");var p=r.plainText.replace(/"/g,"&#34;");return'<div class="autocompleteCD-suggestion" data-val="'+p+'" data-plaintext="'+p+'" data-pkey="'+r.pKey+'" >'+p.replace(q,"<b>$1</b>")+"</div>"},onSelect:function(p,r,o,q){d("onSelect: $choiceElement plaintext "+q.data("plaintext")+", pkey "+q.data("pkey"));d("  customFieldId "+n+", hiddenInputFieldId "+i);jQuery("#rest_"+n).val(q.data("plaintext"));jQuery("#"+i).val(q.data("pkey"))},onBlur:function(p){var o=$("#"+i);d("onBlur: "+p.attr("id")+" Val length "+p.val().length+", "+o.attr("id")+" val length "+o.val().length);if(p.val().length===0||o.val().length===0){d("  Clear val of "+p.attr("id")+", "+o.attr("id"));p.val("");o.val("")}}})})}AJS.toInit(function(){d("toInit :: NEW_CONTENT_ADDED");e();JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(h,f,g){if($("#edit-issue-dialog").length>0||g==="inlineEditStarted"||g==="dialogReady"){d("bind");e()}})})});